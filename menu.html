<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Coffee Cats</title>
    <meta
      name="description"
      content="CỘNG CÀ CAT - Hương vị Việt và không gian mang câu chuyện."
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&family=League+Spartan:wght@500;600;700;800&display=swap&subset=vietnamese"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="fontawesome-free-7.1.0-web/css/all.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="menu.css" />
  </head>
  <body class="has-texture">
    <!-- Header -->
    <header class="site-header elevate-1">
      <nav class="navbar">
        <img src="/PicsLinh/golocat (1).jpg" alt="" id="cat" />
        <a href="index.html" class="logo">CÀ PHÊ</a>
        <div class="main-menu">
          <a href="#">Trang Chủ</a>
          <a href="#signature" class="active" aria-current="page">Menu</a>
          <a href="#story">Tuyển Dụng</a>
          <a href="#testimonials">Cảm Nhận</a>
          <a href="#footer">Liên Hệ-Hỗ Trợ</a>
        </div>
        <div class="header-right">
          <button type="button" class="icon-btn" aria-label="Tìm kiếm">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>

          <a href="cart.html" id="cart-btn" aria-label="Giỏ hàng">
            <button type="button" class="icon-btn">
              <i class="fa-solid fa-cart-shopping"></i>
              <span class="cart-count">0</span>
            </button>
          </a>

          <a href="login.html" class="btn login-btn" aria-label="Đăng nhập">
            <i class="fa-regular fa-user"></i>
            <span>Đăng nhập</span>
          </a>
        </div>
      </nav>
    </header>

    <!-- Khu vực nội dung -->
    <main class="menu-page">
      <aside class="sidebar">
        <ul>
          <li class="active"><a href="#cafe">Cafe</a></li>
          <li><a href="#sinhto">Sinh tố</a></li>
          <li><a href="#banhngot">Bánh ngọt</a></li>
          <li><a href="#anvat">Ăn vặt</a></li>
          <li><a href="#settrabanh">Set trà bánh</a></li>
          <li><a href="#topping">Topping</a></li>
        </ul>
      </aside>

      <!-- CAFE-->
      <section class="product-list active" id="cafe">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image2.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Cacao nóng</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <!-- ✅ Nút thêm món -->
                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image3.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Cacao đá</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image4.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Cafe cốt dừa</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">60.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image5.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Cafe bạc hà</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">60.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image6.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Cafe trứng sữa</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>
      <!-- SINH TO-->
      <section class="product-list" id="sinhto">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image6.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Sinh tố xoài chanh leo</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image7.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Sinh tố việt quất đá xay</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>
                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image8.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Sinh tố chanh leo dâu tây</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image8.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Sinh tố chanh leo</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image2.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Xoài chuối chanh dây</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>
      <!--BANH -->
      <section class="product-list" id="banhngot">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image3.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Tiramisu</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image6.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Banh hạnh nhân</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image5.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Banh trái cây</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image6.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Sinh tố xoài chanh leo</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!--DO AN VAt-->
      <section class="product-list" id="anvat">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/ice2.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Iscream choco</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image3.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Chanh tuyết</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image5.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Vani kem dâu</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!--SET TRA BANH-->
      <section class="product-list" id="settrabanh">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/set2.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Set 1</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>

          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/image3.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Set trà 2</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!--TOPPNG-->
      <section class="product-list" id="topping">
        <div class="grid-cards signature-grid">
          <article class="card card--tall reveal">
            <div class="card-media">
              <img src="/PicsLinh/toppng1.png" alt="Taste of Autumn" />
              <div class="card-badge">Signature</div>
            </div>

            <div class="card-body">
              <h3 class="item-name">Trân châu</h3>
              <p class="muted">Đậm vị – ngọt béo cân bằng.</p>
              <div class="meta-row">
                <span class="price-tag">65.000</span>
                <div class="chips">
                  <span class="chip">coffee</span>
                  <span class="chip">classic</span>
                </div>

                <button class="add-btn">Thêm món</button>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
    <div id="popup" class="popup">
      <div class="popup-content">
        <h3 id="popup-name"></h3>
        <p>Giá: <span id="popup-price"></span>đ</p>

        <label>Số lượng:</label>
        <div class="quantity">
          <button id="minus">-</button>
          <input type="number" id="quantity" value="1" min="1" />
          <button id="plus">+</button>
        </div>

        <label>Ghi chú món:</label>
        <textarea id="note" placeholder="Ví dụ: ít đá, thêm ngọt..."></textarea>

        <div class="popup-actions">
          <button id="cancel">Hủy</button>
          <button id="confirm">Xác nhận</button>
        </div>
      </div>
    </div>

    <script>
      // ========== Xử lý sidebar ==========
      const menuItems = document.querySelectorAll(".sidebar li");
      const productLists = document.querySelectorAll(".product-list");

      menuItems.forEach((item, index) => {
        item.addEventListener("click", () => {
          // Xóa trạng thái active cũ
          document
            .querySelector(".sidebar li.active")
            ?.classList.remove("active");
          document
            .querySelector(".product-list.active")
            ?.classList.remove("active");

          // Thêm active mới
          item.classList.add("active");
          productLists[index].classList.add("active");

          // Cuộn về đầu trang
          window.scrollTo({
            top: 0,
            behavior: "smooth", // cuộn mượt
          });
        });
      });
      // Lấy các phần tử cần dùng
      const popup = document.getElementById("popup");
      const popupName = document.getElementById("popup-name");
      const popupPrice = document.getElementById("popup-price");
      const quantityInput = document.getElementById("quantity");
      const noteInput = document.getElementById("note");

      const btnMinus = document.getElementById("minus");
      const btnPlus = document.getElementById("plus");
      const btnCancel = document.getElementById("cancel");
      const btnConfirm = document.getElementById("confirm");

      // Ẩn popup khi mới tải
      popup.style.display = "none";

      // Thêm sự kiện cho các nút Thêm món
      const cards = document.querySelectorAll(".card");

      cards.forEach((card) => {
        card.addEventListener("click", () => {
          const name = card.querySelector("h3").textContent;
          const price = card
            .querySelector(".price-tag")
            .textContent.replace("đ", "")
            .trim();

          popupName.textContent = name;
          popupPrice.textContent = price;
          quantityInput.value = 1;
          noteInput.value = "";
          popup.style.display = "flex";
        });
      });

      // Nút tăng/giảm
      btnMinus.addEventListener("click", () => {
        if (quantityInput.value > 1) quantityInput.value--;
      });

      btnPlus.addEventListener("click", () => {
        quantityInput.value++;
      });

      // Nút hủy
      btnCancel.addEventListener("click", () => {
        popup.style.display = "none";
      });

      // Nút xác nhận
      btnConfirm.addEventListener("click", () => {
        const item = {
          name: popupName.textContent,
          price: Number(popupPrice.textContent.replace(/\D/g, "")), // ép về số
          quantity: Number(quantityInput.value),
          note: noteInput.value,
        };

        console.log("Món đã thêm:", item);

        // ✅ Lấy giỏ hàng cũ (nếu có)
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        // ✅ Kiểm tra xem món đã có trong giỏ chưa
        let existing = cart.find((x) => x.name === item.name);
        if (existing) {
          existing.quantity = Number(existing.quantity) + Number(item.quantity);
        } else {
          cart.push(item);
        }

        // ✅ Lưu lại vào localStorage
        localStorage.setItem("cart", JSON.stringify(cart));

        // ✅ Cập nhật hiển thị trên icon giỏ hàng ngay lập tức
        updateCartCount();

        showToast("Đã thêm vào giỏ hàng!");

        popup.style.display = "none";
      });

      // ✅ Hàm cập nhật số lượng trên biểu tượng giỏ
      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const countElement = document.querySelector(".cart-count");
        let totalItems = cart.reduce(
          (total, item) => total + Number(item.quantity),
          0
        );
        countElement.textContent = totalItems;
      }

      // ✅ Khi tải trang lần đầu, hiển thị đúng số món hiện có
      document.addEventListener("DOMContentLoaded", updateCartCount);

      function showToast(message) {
        // Tạo phần tử toast nếu chưa có
        let toast = document.createElement("div");
        toast.className = "custom-toast";
        toast.innerText = message;
        document.body.appendChild(toast);

        // Hiệu ứng hiện lên
        setTimeout(() => {
          toast.classList.add("show");
        }, 100);

        // Tự ẩn sau 2.5 giây
        setTimeout(() => {
          toast.classList.remove("show");
          setTimeout(() => toast.remove(), 500);
        }, 2500);
      }
    </script>
  </body>
</html>
